<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough" xmlns:c="http://java.sun.com/jsp/jstl/core"
>

<h:head>
    <title>Allezon</title>
</h:head>

<h:body>
    <ui:composition template = "templates/commonLayout.xhtml">
        <ui:define name="header"></ui:define>
        <ui:define name="content">
            <div id="page">

            <h2>Edycja dzialow i kategorii</h2>

                <h:form>
                    <h1><h:outputText value="Add section"/></h1>
                    <p/>

                    <h:inputText id="sectionName" value="#{sectionRequest.name}" a:placeholder="Name">
                        <f:validateLength minimum="3" maximum="15"/>
                    </h:inputText>
                    <h:message for="sectionName"/>
                    <p/>

                    <h:commandButton value="Add" action="#{sectionController.addSection}"/>
                    <p/>

                </h:form>

                <p/>

                <h:form>
                    <h1><h:outputText value="Add category"/></h1>
                    <p/>

                    <h:inputText id="categoryName" value="#{categoryRequest.name}" a:placeholder="Name">
                        <f:validateLength minimum="3" maximum="15"/>
                    </h:inputText>
                    <h:message for="categoryName"/>
                    <p/>

                    <h:selectOneMenu value="#{categoryRequest.sectionName}">
                        <c:forEach items="#{sectionRepository.sectionList}" var="section" varStatus="metadata">
                            <f:selectItem itemValue="#{section.name}"/>
                        </c:forEach>
                    </h:selectOneMenu>
                    <p/>

                    <h:commandButton value="Add" action="#{categoryController.addCategory}"/>
                    <p/>

                </h:form>

                <p/>

                <h:form>
                    <h1><h:outputText value="Update section"/></h1>
                    <p/>
                    Stara nazwa dzialu:
                    <h:selectOneMenu value="#{sectionEditRequest.oldName}">
                        <c:forEach items="#{sectionRepository.sectionList}" var="section" varStatus="metadata">
                            <f:selectItem itemValue="#{section.name}"/>
                        </c:forEach>
                    </h:selectOneMenu>
                    <p/>

                    Nowa nazwa dla dzialu:
                    <h:inputText id="sectionUpdate" value="#{sectionEditRequest.newName}" a:placeholder="Name">
                        <f:validateLength minimum="3" maximum="15"/>
                    </h:inputText>
                    <h:message for="sectionUpdate"/>
                    <p/>

                    <h:commandButton value="Edit" action="#{sectionController.updateSection}"/>
                    <p/>

                </h:form>

                <p/>
                <h:form>
                <h1><h:outputText value="Update Category"/></h1>

                    Stara nazwa kategorii:
                    <h:selectOneMenu value="#{categoryEditRequest.oldName}">
                        <c:forEach items="#{categoryRepository.categoryList}" var="category" varStatus="metadata">
                            <f:selectItem itemValue="#{category.name}"/>
                        </c:forEach>
                    </h:selectOneMenu>
                    <p/>

                    Nowa nazwa dla kategorii:
                    <h:inputText id="categoryUpdate" value="#{categoryEditRequest.newName}" a:placeholder="Name">
                        <f:validateLength minimum="3" maximum="15"/>
                    </h:inputText>
                    <h:message for="categoryUpdate"/>
                    <p/>

                    Przeniesienie do dzialu:
                    <h:selectOneMenu value="#{categoryEditRequest.newSectionName}">
                        <c:forEach items="#{sectionRepository.sectionList}" var="section" varStatus="metadata">
                            <f:selectItem itemValue="#{section.name}"/>
                        </c:forEach>
                    </h:selectOneMenu>
                    <p/>

                    <h:commandButton value="Edit" action="#{categoryController.updateCategory}"/>
                    <p/>

                </h:form>


            </div>

        </ui:define>
    </ui:composition>
</h:body>

</html>